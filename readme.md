<h1 align="center">Игра "Geometry Dash"</h1>

<img alt="img.png" src="/home/aydar/PycharmProjects/GDProject/readme_assets/img.png"/>

## Описание программы

Данная программа - игра на двумерной вертикальной плоскости с управлением с клавиатуры и мыши.

Цель игры - дойти до конечной зоны, минуя препятствия на пути.

Игра имеет несколько уровней, каждый из которых обладает уникальным игровым процессом.

Все уровни и расположения объектов записаны в json файл 'Data/levels.json'

## Техническое задание
### Цель создания программы

Создать двумерную игру с простой графикой и управлением с помощью мыши и/или клавиатуры.
### Функциональные требования

- В программе должна быть реализована реакция на действия пользователя через события мыши и/или клавиатуры
- В программе должно быть реализовано движение и взаимодействие персонажей между собой и с другими объектами с помощью спрайтов
- Программа должна осуществлять слежение за главным персонажем с помощью разработанного объекта - камеры
- Программа должна содержать игровой процесс: начало игры, завершение игры при победе или поражении игрока
- В игре должны быть реализованы как минимум 2 уровня или 2 режима игрового процесса

### Нефункциональные требования
#### Интерфейс пользователя

- Графический интерфейс пользователя должен быть реализован с помощью библиотеки pygame

#### Требования к надежности

- Необходимо предусмотреть блокировку некорректных действий пользователя при работе с программой

#### Требования к производительности

- Программа должна стабильно работать при большом размере карты и персонажей
- Процесс загрузки игры не должен превышать 20 секунд
- Процесс загрузки уровня не должен превышать 10 секунд

## Руководство пользователя
### Старт игры

При запуске игры перед пользователем возникает окно с названием игры и кнопками, по нажатию на которые, можно перемещаться между окнами.

Уровень представляет собой полосу препятствий, где персонаж с постоянной скоростью движется вперёд. При нажатии на ПРОБЕЛ, кнопку ВВЕРХ или ЛКМ персонаж(в режиме куба) совершает прыжок.

Помимо него на карте есть шипы, при столкновении с ними уровень начинается заново, блоки, на которые можно наступить сверху, но при столкновении с ним уровень начинается заново.
Также на уровне есть большое количество объектов с которыми можно взаимодействовать:
Сферы(Если прыгнуть во время того, как персонаж проходит сквозь них, то персонаж совершит особый прыжок (Желтые - обычный прыжок, пурпурные - маленький прыжок, бирюзовые - смена гравитации, красные - большой прыжок, черные - моментальный рывок, зелёные - прыжок со сменой ориентации)),
батуты(При соприкосновении происходит прыжок(Желтый - обычный прыжок, пурпурный - маленький прыжок, бирюзовый - смена гравитации, красный - большой прыжок)), монеты, нужно собирать для полноценного прохождения уровня, 
порталы нескольких видов: смена скорости(3 вида: замедляющий, ускоряющий и возвращающий исходную скорость), смена режима(4 вида: куб, корабль, шар, НЛО),
смена гравитации(2 вида)

Предоставлено 4 режима игры: куб, корабль(при удерживании корабль набирает высоту), шар(при нажатии меняется гравитация), НЛО(при нажатии совершается прыжок, есть возможность прыгать в воздухе)

### Прохождение уровня

Цель игрока - дойти до финиша. 

При прохождении уровня выводится окно выигрыша, с указанием количества набранных монет.

При проигрыше уровень начинается заново.

### Перезапуск и выход из уровня

Перезапустить уровень можно в любой момент с помощью кнопки со звездой в левом верхнем углу экрана или при нажатии кнопки 0 на цифровой клавиатуре. 

Завершить игру можно в любой момент с помощью левой кнопки в левом верхнем углу экрана или нажатием клавиши Escape.
## Программные требования

Программа написана на языке Python3 и требует установленного интерпретатора для запуска. Необходимые библиотеки Python3:

- pygame

## Установка и запуск

Программа содержит основной запускаемый модуль **main.py** и набор модулей в директории **GameComponents**, описывающих игровые компоненты.

В директории **Data** содержатся дополнительные файлы - Спрайты для объектов игры, музыка и json файлы, отвечающие за хранение облика персонажа и уровней.

Установки программы не требуется. Для запуска программы следует запустить в интерпретаторе (с установленными требуемыми библиотеками) файл **main.py**.
## Особенности реализации

Основной цикл приложения описан методом **start** класса **Game** из файла **GameWindow.py**.

При инициализации объекта данного класса создаётся холст и все окна меню.

Основной игровой процесс описан в классе-окне **GameWindow** из файла **GameWindow.py**. В частности, весь цикл игры выполняется методом **show**.

**GameWindow** является дочерним классом класса **Window** из файла **Window.py**.

Описание класса **GameWindow**:

- атрибуты **BackSound**, **DeathSound**, **CompleteSound** содержат звуковые эффекты.
- метод **__init__** создает сам уровень(функция **new_level**) и кнопки перезапуска и выхода из уровня. 
- метод **new_level** создаёт(или обновляет) группы спрайтов, камеру, ставит музыку(функция **set_music**) и генерирует уровень(функция **generate_level**).
- метод **show** содержит основной игровой цикл.
- метод **draw** предназначен для рисования объектов.
- метод **generate_level** предназначен для генерирования уровня.
- метод **Spawn_Player** создаёт персонажа.
- метод **Spawn_Speed_Portals** создаёт порталы скорости.
- метод **Spawn_Object** создаёт блоки, шипы и монеты.
- метод **Spawn_Orbs** создаёт сферы.
- метод **Spawn_Gravity_Portals** создаёт порталы смены гравитации.
- метод **Spawn_Character_Change_Portals** создаёт порталы смены персонажа(режима игры).
- метод **Spawn_Jumppads** создаёт батуты.

Файл **Button.py** содержит классы кнопок.

Файл **Character.py** содержит классы персонажей(режимов игры).

Файл **LoadComponents.py** содержит методы **load_image** и **load_level**, которые загружают изображения и уровни из файлов соответственно.

Файл **Object.py** содержит родительский класс для всех объектов и классы блока, шипов двух видов(обычный и перевернутый) и монеты.

Файлы **Orbs.py**, **Portals.py** содержат классы сфер, батутов(в файле **Orbs.py**) и всех порталов.

Файл **Other.py** содержит классы камеры и музыки.

Файл **Window.py** содержит родительский класс для всех окон, а также все классы окон меню(за исключением игрового окна).

## Дальнейшее развитие

Данную игру можно развить далее в следующих направлениях:

- Сделать большее количество уровней и обликов для персонажа.
- Сделать новые режимы для игры(например, робот, паук и спутник)
- Вести прогресс прохождения игры (процент пройденного уровня и сохранение собранных звёзд)
- Возможность создавать и сохранять, а также делиться пользовательскими уровнями в редакторе карт.
- Добавить декорации для уровней.
- Добавить больше объектов, с которыми можно взаимодействовать.